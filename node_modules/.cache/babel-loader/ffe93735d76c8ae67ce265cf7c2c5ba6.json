{"ast":null,"code":"import _slicedToArray from\"/home/javier.sosa/Escritorio/JS PROJECTS/whatsapp-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Avatar,IconButton}from\"@material-ui/core\";import DonutLargeIcon from\"@material-ui/icons/DonutLarge\";import ChatIcon from\"@material-ui/icons/Chat\";import MoreVertIcon from\"@material-ui/icons/MoreVert\";import SearchOutlined from\"@material-ui/icons/SearchOutlined\";import SidebarChat from\"./SidebarChat\";import db from\"./firebase\";import{collection,onSnapshot}from\"./firebase\";import{useStateValue}from\"./StateProvider\";import'./Sidebar.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Sidebar(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),rooms=_useState2[0],setRooms=_useState2[1];var _useStateValue=useStateValue(),_useStateValue2=_slicedToArray(_useStateValue,2),user=_useStateValue2[0].user,dispatch=_useStateValue2[1];useEffect(function(){onSnapshot(collection(db,\"rooms\"),function(snapshot){setRooms(snapshot.docs.map(function(doc){return{id:doc.id,data:doc.data()};}));});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar__header\",children:[/*#__PURE__*/_jsx(Avatar,{src:user===null||user===void 0?void 0:user.photoURL}),/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar__headerRight\",children:[/*#__PURE__*/_jsx(IconButton,{children:/*#__PURE__*/_jsx(DonutLargeIcon,{})}),/*#__PURE__*/_jsx(IconButton,{children:/*#__PURE__*/_jsx(ChatIcon,{})}),/*#__PURE__*/_jsx(IconButton,{children:/*#__PURE__*/_jsx(MoreVertIcon,{})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"sidebar__search\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar__searchContainer\",children:[/*#__PURE__*/_jsx(SearchOutlined,{}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Search or start new chat\",type:\"text\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar__chats\",children:[/*#__PURE__*/_jsx(SidebarChat,{addNewChat:true}),rooms.map(function(room){return/*#__PURE__*/_jsx(SidebarChat,{id:room.id,name:room.data.name},room.id);})]})]});}export default Sidebar;","map":{"version":3,"sources":["/home/javier.sosa/Escritorio/JS PROJECTS/whatsapp-clone/src/Sidebar.js"],"names":["React","useState","useEffect","Avatar","IconButton","DonutLargeIcon","ChatIcon","MoreVertIcon","SearchOutlined","SidebarChat","db","collection","onSnapshot","useStateValue","Sidebar","rooms","setRooms","user","dispatch","snapshot","docs","map","doc","id","data","photoURL","room","name"],"mappings":"8KAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,MAAT,CAAiBC,UAAjB,KAAmC,mBAAnC,CACA,MAAOC,CAAAA,cAAP,KAA2B,+BAA3B,CACA,MAAOC,CAAAA,QAAP,KAAqB,yBAArB,CACA,MAAOC,CAAAA,YAAP,KAAyB,6BAAzB,CACA,MAAOC,CAAAA,cAAP,KAA2B,mCAA3B,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,EAAP,KAAe,YAAf,CACA,OAASC,UAAT,CAAqBC,UAArB,KAAuC,YAAvC,CACA,OAASC,aAAT,KAA8B,iBAA9B,CACA,MAAO,eAAP,C,wFAGA,QAASC,CAAAA,OAAT,EAAmB,CACf,cAA0Bb,QAAQ,CAAC,EAAD,CAAlC,wCAAOc,KAAP,eAAcC,QAAd,eACA,mBAA6BH,aAAa,EAA1C,kDAASI,IAAT,oBAASA,IAAT,CAAiBC,QAAjB,oBAEAhB,SAAS,CAAC,UAAM,CACZU,UAAU,CAACD,UAAU,CAACD,EAAD,CAAK,OAAL,CAAX,CAA0B,SAACS,QAAD,CAAc,CAC9CH,QAAQ,CAACG,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAACC,GAAD,QAClB,CACGC,EAAE,CAAED,GAAG,CAACC,EADX,CAEGC,IAAI,CAAEF,GAAG,CAACE,IAAJ,EAFT,CADkB,EAAlB,CAAD,CAAR,CAOH,CARS,CAAV,CASH,CAVQ,CAUN,EAVM,CAAT,CAYA,mBACI,aAAK,SAAS,CAAC,SAAf,wBACI,aAAK,SAAS,CAAC,iBAAf,wBACI,KAAC,MAAD,EAAQ,GAAG,CAAEP,IAAF,SAAEA,IAAF,iBAAEA,IAAI,CAAEQ,QAAnB,EADJ,cAEI,aAAK,SAAS,CAAC,sBAAf,wBACI,KAAC,UAAD,wBACI,KAAC,cAAD,IADJ,EADJ,cAII,KAAC,UAAD,wBACI,KAAC,QAAD,IADJ,EAJJ,cAOI,KAAC,UAAD,wBACI,KAAC,YAAD,IADJ,EAPJ,GAFJ,GADJ,cAgBI,YAAK,SAAS,CAAC,iBAAf,uBACI,aAAK,SAAS,CAAC,0BAAf,wBACI,KAAC,cAAD,IADJ,cAEI,cAAO,WAAW,CAAC,0BAAnB,CAA8C,IAAI,CAAC,MAAnD,EAFJ,GADJ,EAhBJ,cAuBI,aAAK,SAAS,CAAC,gBAAf,wBACI,KAAC,WAAD,EAAa,UAAU,KAAvB,EADJ,CAEKV,KAAK,CAACM,GAAN,CAAU,SAACK,IAAD,qBACP,KAAC,WAAD,EAA2B,EAAE,CAAEA,IAAI,CAACH,EAApC,CAAwC,IAAI,CAAEG,IAAI,CAACF,IAAL,CAAUG,IAAxD,EAAkBD,IAAI,CAACH,EAAvB,CADO,EAAV,CAFL,GAvBJ,GADJ,CAgCH,CAED,cAAeT,CAAAA,OAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Avatar, IconButton } from \"@material-ui/core\";\nimport DonutLargeIcon from \"@material-ui/icons/DonutLarge\";\nimport ChatIcon from \"@material-ui/icons/Chat\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport SearchOutlined from \"@material-ui/icons/SearchOutlined\";\nimport SidebarChat from \"./SidebarChat\";\nimport db from \"./firebase\";\nimport { collection, onSnapshot } from \"./firebase\";\nimport { useStateValue } from \"./StateProvider\";\nimport './Sidebar.css';\n\n\nfunction Sidebar() {\n    const [rooms, setRooms] = useState([]);\n    const [{ user }, dispatch] = useStateValue();\n\n    useEffect(() => {\n        onSnapshot(collection(db, \"rooms\"), (snapshot) => {\n            setRooms(snapshot.docs.map((doc) => \n                    ({\n                        id: doc.id,\n                        data: doc.data(),\n                    })\n                )\n            )\n        });\n    }, []);\n\n    return (\n        <div className=\"sidebar\">\n            <div className=\"sidebar__header\">\n                <Avatar src={user?.photoURL} />\n                <div className=\"sidebar__headerRight\">\n                    <IconButton>\n                        <DonutLargeIcon />\n                    </IconButton>\n                    <IconButton>\n                        <ChatIcon />\n                    </IconButton>\n                    <IconButton>\n                        <MoreVertIcon />\n                    </IconButton>                    \n                </div>\n            </div>\n\n            <div className=\"sidebar__search\">\n                <div className=\"sidebar__searchContainer\">\n                    <SearchOutlined />\n                    <input placeholder=\"Search or start new chat\" type=\"text\" />\n                </div>\n            </div>\n\n            <div className=\"sidebar__chats\">\n                <SidebarChat addNewChat />\n                {rooms.map((room) => (\n                    <SidebarChat key={room.id} id={room.id} name={room.data.name} />\n                ))}\n            </div>\n        </div>\n    );\n}\n\nexport default Sidebar\n\n"]},"metadata":{},"sourceType":"module"}